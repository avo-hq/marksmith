<%= content_tag :div,
  id: editor.id,
  class: editor.element_classes(:container),
  data: {
    controller: "marksmith list-continuation",
    action: "
      beforeinput->list-continuation#handleBeforeInput
      input->list-continuation#handleInput
    ",
    unique_selector: ".#{@input_id}", # used to pinpoint the exact element in which to insert the attachment
    marksmith_preview_url_value: marksmith.markdown_previews_path,
    marksmith_file_uploads_enabled_value: editor.enable_file_uploads,
    marksmith_active_tab_class: "bg-white",
    marksmith_attach_url_value: editor.upload_url,
    marksmith_extra_preview_params_value: editor.extra_preview_params.as_json,
    **editor.controller_data_attributes,
  } do %>
  <%= render partial: "marksmith/shared/toolbar", locals: { textarea_id: editor.textarea_id, disabled: editor.disabled, editor: } %>
  <%= content_tag :div, class: editor.element_classes(:editor_content) do %>
    <%= render partial: "marksmith/shared/editor_pane", locals: { editor: } %>
    <%= render partial: "marksmith/shared/preview_pane", locals: { editor: } %>
  <% end %>
<% end %>
